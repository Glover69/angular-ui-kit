<!-- time-picker.component.html -->
<div class="time-picker-wrapper w-full flex flex-col items-start gap-2">
  <!-- Label -->
  <label class="block text-sm text-gray-700 tracking-tight">
    {{ label }}
  </label>
  
  <!-- Input trigger -->
  <div 
    (click)="toggleTimePicker()"
    class="relative w-full px-3 py-2 border border-gray-300 shadow-xs rounded-lg 
           focus-within:ring-2 focus-within:ring-primary focus-within:border-transparent
           bg-white cursor-pointer flex items-center justify-between">
    
    <span class="text-gray-500 text-base md:text-sm font-regular">
      {{ formatDisplayTime() }}
    </span>
    
    <i class="ph ph-timer text-lg"></i>
  </div>
  
  <!-- Time picker dropdown -->
@if (isOpen) {
  <!-- Backdrop -->
  <div 
    (click)="closeTimePicker()"
    class="fixed inset-0 bg-[#00000060] z-40">
  </div>
  
  <!-- Drawer -->
  <div #drawer class="drawer w-full rounded-tl-lg justify-self-center rounded-tr-lg lg:w-2/5 fixed bottom-0 left-0 right-0 z-50 bg-white max-h-[60vh] flex flex-col lg:items-center">
    
    <!-- Header -->
    <div class="p-4 border-b w-full border-gray-300 flex-shrink-0">
      <span class="text-base font-medium text-gray-800">{{placeholder_two}}</span>
      <div class="text-2xl font-semibold text-gray-800">
        {{ selectedHour }}:{{ selectedMinute }} {{ selectedPeriod }}
      </div>
    </div>
    
    <!-- Content - Scrollable -->
    <div class="flex-1 overflow-y-auto w-full p-4">
      <div class="flex gap-4 max-w-md mx-auto">
        
        <!-- Hours column -->
        <div class="flex-1">
          <label class="block text-sm font-medium text-gray-600 mb-2">Hour</label>
          <div class="max-h-32 overflow-y-auto border border-gray-300 rounded-md">
            @for (hour of hours; track hour) {
              <button
                type="button"
                (click)="selectHour(hour)"
                class="w-full px-3 py-2 text-left hover:cursor-pointer border-b border-gray-300 last:border-b-0"
                [class.bg-brand-600]="selectedHour === hour"
                [class.text-white]="selectedHour === hour"
                [class.text-gray-800]="selectedHour !== hour">
                {{ hour }}
              </button>
            }
          </div>
        </div>
        
        <!-- Minutes column -->
        <div class="flex-1">
          <label class="block text-sm font-medium text-gray-600 mb-2">Minute</label>
          <div class="max-h-32 overflow-y-auto border border-gray-200 rounded-md">
            @for (minute of minutes; track minute) {
              <button
                type="button"
                (click)="selectMinute(minute)"
                class="w-full px-3 py-2 text-left border-b hover:cursor-pointer border-gray-300 last:border-b-0"
                [class.bg-brand-600]="selectedMinute === minute"
                [class.text-white]="selectedMinute === minute"
                [class.text-gray-800]="selectedMinute !== minute">
                {{ minute }}
              </button>
            }
          </div>
        </div>
        
        <!-- AM/PM column -->
        <div class="flex-1">
          <label class="block text-sm font-medium text-gray-600 mb-2">Period</label>
          <div class="border border-gray-200 rounded-md">
            <button
              type="button"
              (click)="selectPeriod('AM')"
              class="w-full px-3 py-2 text-left hover:cursor-pointer border-b border-gray-300"
              [class.bg-brand-600]="selectedPeriod === 'AM'"
              [class.text-white]="selectedPeriod === 'AM'"
              [class.text-gray-800]="selectedPeriod !== 'AM'">
              AM
            </button>
            <button
              type="button"
              (click)="selectPeriod('PM')"
              class="w-full px-3 py-2 text-left hover:cursor-pointer"
              [class.bg-brand-600]="selectedPeriod === 'PM'"
              [class.text-white]="selectedPeriod === 'PM'"
              [class.text-gray-800]="selectedPeriod !== 'PM'">
              PM
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Footer -->
    <div class="flex w-full gap-3 p-4 border-t border-gray-300 flex-shrink-0">
      <app-button class="w-full" text="Cancel" [type]="'button'" hierarchy="secondary" (clicked)="closeTimePicker()"></app-button>
      <app-button class="w-full" text="Done" [type]="'button'" hierarchy="primary" (clicked)="confirmSelection()"></app-button>
    </div>
  </div>
}
</div>
